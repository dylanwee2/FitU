graph TB
    subgraph "Client Layer"
        Browser[ğŸŒ Web Browser<br/>User Interface]
    end
    
    subgraph "FitU Frontend Application"
        App[ğŸ“± App.vue<br/>Root Component]
        Router[ğŸ›£ï¸ Vue Router<br/>Navigation Controller]
        
        subgraph "Views"
            Home[ğŸ  Home View<br/>Calorie Tracking]
            Dashboard[ğŸ“Š Dashboard View<br/>Widget Management]
            ExerciseBrowser[ğŸ’ª Exercise Browser<br/>Exercise Library]
            VirtualGym[ğŸ‹ï¸ Virtual Gym<br/>3D Equipment]
            Vault[ğŸ—„ï¸ Vault<br/>File Management]
            Profile[ğŸ‘¤ Profile<br/>User Settings]
            Login[ğŸ” Login/Signup<br/>Authentication]
            WorkoutSets[ğŸ“‹ Workout Sets<br/>Playlist Management]
        end
        
        subgraph "Components"
            Navbar[ğŸ§­ Navbar<br/>Navigation]
            WorkoutCart[ğŸ›’ Workout Cart<br/>Exercise Selection]
            CalorieProgress[ğŸ“ˆ Calorie Progress<br/>Visualization]
            CalorieChart[ğŸ“Š Calorie Chart<br/>7-day View]
        end
        
        subgraph "State Management"
            UserStore[ğŸ‘¤ User Store<br/>Authentication State]
            MealsStore[ğŸ½ï¸ Meals Store<br/>Calorie Data]
            WorkoutCartStore[ğŸ›’ Workout Cart Store<br/>Exercise Selection]
            DashboardStore[ğŸ“Š Dashboard Store<br/>Widget Layout]
        end
        
        subgraph "Services"
            FirebaseService[ğŸ”¥ Firebase Service<br/>Database Operations]
            ExerciseService[ğŸ’ª Exercise Service<br/>API Integration]
            VaultService[ğŸ—„ï¸ Vault Service<br/>File Operations]
        end
    end
    
    subgraph "Backend Application"
        ExpressServer[ğŸ–¥ï¸ Express Server<br/>API Gateway]
        
        subgraph "Controllers"
            RecipeController[ğŸ½ï¸ Recipe Controller<br/>Recipe Management]
            GeminiController[ğŸ¤– Gemini Controller<br/>AI Content]
        end
        
        subgraph "Routes"
            RecipeRoutes[ğŸ½ï¸ Recipe Routes<br/>/api/recipes]
            GeminiRoutes[ğŸ¤– Gemini Routes<br/>/api/gemini]
        end
    end
    
    subgraph "External Services"
        Firebase[ğŸ”¥ Firebase<br/>Auth & Database]
        SpoonacularAPI[ğŸ½ï¸ Spoonacular API<br/>Recipe Data]
        ExerciseDBAPI[ğŸ’ª ExerciseDB API<br/>Exercise Library]
        GeminiAPI[ğŸ¤– Google Gemini AI<br/>AI Services]
    end
    
    %% Client to Frontend Communication
    Browser -->|"User Interactions<br/>HTTP Requests"| App
    App -->|"Route Changes<br/>Navigation Events"| Router
    Router -->|"View Updates<br/>Component Loading"| Home
    Router -->|"View Updates<br/>Component Loading"| Dashboard
    Router -->|"View Updates<br/>Component Loading"| ExerciseBrowser
    Router -->|"View Updates<br/>Component Loading"| VirtualGym
    Router -->|"View Updates<br/>Component Loading"| Vault
    Router -->|"View Updates<br/>Component Loading"| Profile
    Router -->|"View Updates<br/>Component Loading"| Login
    Router -->|"View Updates<br/>Component Loading"| WorkoutSets
    
    %% Frontend Internal Communication
    App -->|"Global State<br/>Authentication Status"| UserStore
    App -->|"Global State<br/>Navigation State"| Navbar
    App -->|"Global State<br/>Cart State"| WorkoutCart
    
    Home -->|"Calorie Data<br/>State Updates"| MealsStore
    Home -->|"Progress Updates<br/>Visualization Data"| CalorieProgress
    
    Dashboard -->|"Widget Layout<br/>Position Updates"| DashboardStore
    Dashboard -->|"Widget State<br/>Configuration"| DashboardStore
    
    ExerciseBrowser -->|"Exercise Data<br/>Search Results"| ExerciseService
    ExerciseBrowser -->|"Cart Updates<br/>Exercise Selection"| WorkoutCartStore
    
    VirtualGym -->|"3D Model Data<br/>Equipment Info"| ExerciseService
    
    Vault -->|"File Operations<br/>Upload/Download"| VaultService
    
    Profile -->|"User Settings<br/>Profile Updates"| UserStore
    
    WorkoutCart -->|"Cart State<br/>Exercise Management"| WorkoutCartStore
    
    %% State Management to Services
    UserStore -->|"User Data<br/>Authentication"| FirebaseService
    MealsStore -->|"Meal Data<br/>Calorie Tracking"| FirebaseService
    WorkoutCartStore -->|"Workout Sets<br/>Saved Playlists"| FirebaseService
    DashboardStore -->|"Layout Data<br/>Widget Configuration"| FirebaseService
    
    ExerciseService -->|"Exercise Data<br/>API Calls"| ExerciseDBAPI
    VaultService -->|"File Storage<br/>Upload/Download"| Firebase
    
    %% Frontend to Backend Communication
    Home -->|"Recipe Requests<br/>HTTP API Calls"| ExpressServer
    ExerciseBrowser -->|"Exercise Data<br/>HTTP API Calls"| ExpressServer
    
    %% Backend Internal Communication
    ExpressServer -->|"Route Handling<br/>Request Processing"| RecipeRoutes
    ExpressServer -->|"Route Handling<br/>Request Processing"| GeminiRoutes
    
    RecipeRoutes -->|"Recipe Logic<br/>Data Processing"| RecipeController
    GeminiRoutes -->|"AI Logic<br/>Content Generation"| GeminiController
    
    %% Backend to External Services
    RecipeController -->|"Recipe Queries<br/>HTTP API Calls"| SpoonacularAPI
    GeminiController -->|"AI Requests<br/>Content Generation"| GeminiAPI
    
    %% External Service Responses
    Firebase -->|"User Data<br/>Authentication Tokens"| FirebaseService
    Firebase -->|"Database Records<br/>Real-time Updates"| FirebaseService
    Firebase -->|"File URLs<br/>Storage References"| VaultService
    
    SpoonacularAPI -->|"Recipe Data<br/>JSON Responses"| RecipeController
    ExerciseDBAPI -->|"Exercise Data<br/>JSON Responses"| ExerciseService
    GeminiAPI -->|"AI Content<br/>Generated Text"| GeminiController
    
    %% Response Flow Back to Client
    RecipeController -->|"Recipe Data<br/>JSON Responses"| ExpressServer
    GeminiController -->|"AI Content<br/>JSON Responses"| ExpressServer
    ExpressServer -->|"API Responses<br/>HTTP Responses"| Home
    ExpressServer -->|"API Responses<br/>HTTP Responses"| ExerciseBrowser
    
    FirebaseService -->|"User State<br/>Authentication Status"| UserStore
    FirebaseService -->|"Data Updates<br/>Real-time Sync"| MealsStore
    FirebaseService -->|"Data Updates<br/>Real-time Sync"| WorkoutCartStore
    FirebaseService -->|"Data Updates<br/>Real-time Sync"| DashboardStore
    
    ExerciseService -->|"Exercise Data<br/>Search Results"| ExerciseBrowser
    VaultService -->|"File Data<br/>Upload Status"| Vault
    
    %% State Updates to UI
    UserStore -->|"Auth State<br/>User Status"| App
    MealsStore -->|"Calorie Data<br/>Progress Updates"| CalorieProgress
    WorkoutCartStore -->|"Cart State<br/>Exercise List"| WorkoutCart
    DashboardStore -->|"Layout State<br/>Widget Positions"| Dashboard



